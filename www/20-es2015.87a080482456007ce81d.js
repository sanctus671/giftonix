(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{ypEY:function(n,l,t){"use strict";t.r(l);var o=t("8Y7J"),u=t("AytR"),r=t("IheW"),e=t("xgBC");let i=(()=>{class n{constructor(n,l){this.http=n,this.storage=l}getProduct(n){return new Promise((l,t)=>{this.storage.get("gx_token").then(o=>{o?this.http.get(u.a.apiUrl+"/products/"+n+"?token="+o).subscribe(n=>{l(n)},n=>{t(n)}):t()})})}}return n.ngInjectableDef=o.Mb({factory:function(){return new n(o.Nb(r.c),o.Nb(e.b))},token:n,providedIn:"root"}),n})();var a=t("llfe"),c=t("esXn"),b=t("ZZ/e");class d{constructor(n,l,t,o,u,r){this.productService=n,this.favouriteService=l,this.toastController=t,this.route=o,this.cartService=u,this.navController=r,this.product={id:this.route.snapshot.params.id,name:"Loading...",description:"",image:"",price:"",favourited:!1,brand:{}},this.getProduct()}ngOnInit(){}getProduct(){this.loading=!0,this.productService.getProduct(this.product.id).then(n=>{console.log(n),this.product=n,this.loading=!1}).catch(()=>{this.loading=!1})}toggleFavourite(){this.product.favourited?(this.product.favourited=!1,this.product.favourite&&this.favouriteService.deleteFavourite(this.product.favourite.id).then(n=>{this.toastController.create({message:this.product.name+" has been removed from your favourites",duration:2e3}).then(n=>{n.present()}),this.favouriteService.favouritesChanged(this.product.favourite.id)})):(this.product.favourited=!0,this.favouriteService.createFavourite({product_id:this.product.id}).then(n=>{this.product.favourite=n,this.toastController.create({message:this.product.name+" has been added to your favourites",duration:2e3}).then(n=>{n.present()}),this.favouriteService.favouritesChanged(this.product.favourite.id)}))}addToCart(){this.cartService.addToCart(this.product),this.toastController.create({message:this.product.name+" has been added to your cart",duration:2e3,buttons:[{side:"end",text:"View Cart",handler:()=>{this.navController.navigateForward(["cart"])}}]}).then(n=>{n.present()})}}class p{}var s=t("pMnS"),g=t("oBZk"),h=t("iInd"),f=t("SVse"),v=o.pb({encapsulation:0,styles:[['.transparent-header[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%}.transparent-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--ion-color-base:rgba(0, 0, 0, 0)!important}.transparent-header[_ngcontent-%COMP%]:after{background:0 0}.product[_ngcontent-%COMP%]   .product__header[_ngcontent-%COMP%]{position:relative;padding-top:180px;padding-bottom:30px;background-color:#000;background-size:cover;background-position:center center;background-repeat:no-repeat}.product[_ngcontent-%COMP%]   .product__header[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);background:-webkit-gradient(linear,left bottom,left top,from(rgba(0,0,0,0)),to(rgba(0,0,0,.65)));background:linear-gradient(0deg,rgba(0,0,0,0) 0,rgba(0,0,0,.65) 100%)}.product[_ngcontent-%COMP%]   .product__header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;padding:0 30px;color:#fff;position:relative;font-size:30px;font-weight:400}.product[_ngcontent-%COMP%]   .product__header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;padding:0 30px;color:#fff;position:relative;font-size:24px;line-height:36px;font-weight:400;float:right;opacity:.9}.product[_ngcontent-%COMP%]   .product__header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;padding:0 30px;position:relative;color:#fff;opacity:.8}.product[_ngcontent-%COMP%]   .product__description[_ngcontent-%COMP%]{padding:0 30px}.product[_ngcontent-%COMP%]   .product__description[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:12px;opacity:.4;margin-bottom:5px}.product[_ngcontent-%COMP%]   .product__description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}']],data:{}});function m(n){return o.Jb(0,[(n()(),o.rb(0,0,null,null,3,"ion-button",[],null,[[null,"click"]],(function(n,l,t){var o=!0;return"click"===l&&(o=!1!==n.component.toggleFavourite()&&o),o}),g.R,g.e)),o.qb(1,49152,null,0,b.j,[o.h,o.k,o.x],null,null),(n()(),o.rb(2,0,null,0,1,"ion-icon",[["slot","icon-only"]],null,null,null,g.fb,g.s)),o.qb(3,49152,null,0,b.B,[o.h,o.k,o.x],{name:[0,"name"]},null)],(function(n,l){n(l,3,0,l.component.product.favourited?"heart":"heart-empty")}),null)}function k(n){return o.Jb(0,[(n()(),o.rb(0,0,null,null,1,"h2",[],null,null,null,null,null)),(n()(),o.Ib(1,null,["$",""]))],null,(function(n,l){n(l,1,0,l.component.product.price)}))}function _(n){return o.Jb(0,[(n()(),o.rb(0,0,null,null,4,"p",[["routerDirection","forward"]],null,[[null,"click"]],(function(n,l,t){var u=!0;return"click"===l&&(u=!1!==o.Cb(n,1).onClick()&&u),"click"===l&&(u=!1!==o.Cb(n,3).onClick(t)&&u),u}),null,null)),o.qb(1,16384,null,0,h.o,[h.n,h.a,[8,null],o.B,o.k],{routerLink:[0,"routerLink"]},null),o.Db(2,1),o.qb(3,737280,null,0,b.Lb,[f.g,b.Hb,o.k,h.n,[2,h.o]],{routerDirection:[0,"routerDirection"]},null),(n()(),o.Ib(4,null,["",""]))],(function(n,l){var t=n(l,2,0,"/brand/"+l.component.product.brand.id);n(l,1,0,t),n(l,3,0,"forward")}),(function(n,l){n(l,4,0,l.component.product.brand.name)}))}function C(n){return o.Jb(0,[(n()(),o.rb(0,0,null,null,4,"div",[["class","product__description"]],null,null,null,null,null)),(n()(),o.rb(1,0,null,null,1,"h6",[],null,null,null,null,null)),(n()(),o.Ib(-1,null,["Description:"])),(n()(),o.rb(3,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),o.Ib(4,null,["",""]))],null,(function(n,l){n(l,4,0,l.component.product.description)}))}function M(n){return o.Jb(0,[(n()(),o.rb(0,0,null,null,5,"ion-fab",[["horizontal","end"],["slot","fixed"],["vertical","bottom"]],null,null,null,g.bb,g.n)),o.qb(1,49152,null,0,b.v,[o.h,o.k,o.x],{horizontal:[0,"horizontal"],vertical:[1,"vertical"]},null),(n()(),o.rb(2,0,null,0,3,"ion-fab-button",[["color","primary"]],null,[[null,"click"]],(function(n,l,t){var o=!0;return"click"===l&&(o=!1!==n.component.addToCart()&&o),o}),g.ab,g.o)),o.qb(3,49152,null,0,b.w,[o.h,o.k,o.x],{color:[0,"color"]},null),(n()(),o.rb(4,0,null,0,1,"ion-icon",[["name","cart"]],null,null,null,g.fb,g.s)),o.qb(5,49152,null,0,b.B,[o.h,o.k,o.x],{name:[0,"name"]},null)],(function(n,l){n(l,1,0,"end","bottom"),n(l,3,0,"primary"),n(l,5,0,"cart")}),null)}function P(n){return o.Jb(0,[(n()(),o.rb(0,0,null,null,16,"ion-header",[["class","transparent-header"]],null,null,null,g.eb,g.r)),o.qb(1,49152,null,0,b.A,[o.h,o.k,o.x],null,null),(n()(),o.rb(2,0,null,0,14,"ion-toolbar",[["color","primary"]],null,null,null,g.zb,g.M)),o.qb(3,49152,null,0,b.Bb,[o.h,o.k,o.x],{color:[0,"color"]},null),(n()(),o.rb(4,0,null,0,6,"ion-buttons",[["slot","start"]],null,null,null,g.S,g.f)),o.qb(5,49152,null,0,b.k,[o.h,o.k,o.x],null,null),(n()(),o.rb(6,0,null,0,4,"ion-button",[],null,null,null,g.R,g.e)),o.qb(7,49152,null,0,b.j,[o.h,o.k,o.x],null,null),(n()(),o.rb(8,0,null,0,2,"ion-back-button",[["defaultHref","/home"]],null,[[null,"click"]],(function(n,l,t){var u=!0;return"click"===l&&(u=!1!==o.Cb(n,10).onClick(t)&&u),u}),g.P,g.c)),o.qb(9,49152,null,0,b.f,[o.h,o.k,o.x],{defaultHref:[0,"defaultHref"]},null),o.qb(10,16384,null,0,b.g,[[2,b.hb],b.Hb],{defaultHref:[0,"defaultHref"]},null),(n()(),o.rb(11,0,null,0,1,"ion-title",[],null,null,null,g.yb,g.L)),o.qb(12,49152,null,0,b.zb,[o.h,o.k,o.x],null,null),(n()(),o.rb(13,0,null,0,3,"ion-buttons",[["slot","end"]],null,null,null,g.S,g.f)),o.qb(14,49152,null,0,b.k,[o.h,o.k,o.x],null,null),(n()(),o.gb(16777216,null,0,1,null,m)),o.qb(16,16384,null,0,f.i,[o.M,o.J],{ngIf:[0,"ngIf"]},null),(n()(),o.rb(17,0,null,null,15,"ion-content",[["class","product"]],null,null,null,g.Z,g.m)),o.qb(18,49152,null,0,b.t,[o.h,o.k,o.x],null,null),(n()(),o.rb(19,0,null,0,9,"div",[["class","product__header"]],null,null,null,null,null)),o.Fb(512,null,f.q,f.r,[o.k,o.r,o.B]),o.qb(21,278528,null,0,f.l,[f.q],{ngStyle:[0,"ngStyle"]},null),o.Eb(22,{"background-image":0}),(n()(),o.gb(16777216,null,null,1,null,k)),o.qb(24,16384,null,0,f.i,[o.M,o.J],{ngIf:[0,"ngIf"]},null),(n()(),o.rb(25,0,null,null,1,"h1",[],null,null,null,null,null)),(n()(),o.Ib(26,null,["",""])),(n()(),o.gb(16777216,null,null,1,null,_)),o.qb(28,16384,null,0,f.i,[o.M,o.J],{ngIf:[0,"ngIf"]},null),(n()(),o.gb(16777216,null,0,1,null,C)),o.qb(30,16384,null,0,f.i,[o.M,o.J],{ngIf:[0,"ngIf"]},null),(n()(),o.gb(16777216,null,0,1,null,M)),o.qb(32,16384,null,0,f.i,[o.M,o.J],{ngIf:[0,"ngIf"]},null)],(function(n,l){var t=l.component;n(l,3,0,"primary"),n(l,9,0,"/home"),n(l,10,0,"/home"),n(l,16,0,!t.loading);var o=n(l,22,0,"url("+t.product.image+")");n(l,21,0,o),n(l,24,0,!t.loading),n(l,28,0,!t.loading),n(l,30,0,!t.loading),n(l,32,0,!t.loading)}),(function(n,l){n(l,26,0,l.component.product.name)}))}function x(n){return o.Jb(0,[(n()(),o.rb(0,0,null,null,1,"app-product",[],null,null,null,P,v)),o.qb(1,114688,null,0,d,[i,a.a,b.Ob,h.a,c.a,b.Hb],null,null)],(function(n,l){n(l,1,0)}),null)}var q=o.nb("app-product",d,x,{},{},[]),O=t("s7LF");t.d(l,"ProductPageModuleNgFactory",(function(){return y}));var y=o.ob(p,[],(function(n){return o.zb([o.Ab(512,o.j,o.Z,[[8,[s.a,q]],[3,o.j],o.v]),o.Ab(4608,f.k,f.j,[o.s,[2,f.t]]),o.Ab(4608,O.j,O.j,[]),o.Ab(4608,b.b,b.b,[o.x,o.g]),o.Ab(4608,b.Gb,b.Gb,[b.b,o.j,o.p]),o.Ab(4608,b.Kb,b.Kb,[b.b,o.j,o.p]),o.Ab(1073742336,f.b,f.b,[]),o.Ab(1073742336,O.i,O.i,[]),o.Ab(1073742336,O.b,O.b,[]),o.Ab(1073742336,b.Db,b.Db,[]),o.Ab(1073742336,h.q,h.q,[[2,h.v],[2,h.n]]),o.Ab(1073742336,p,p,[]),o.Ab(1024,h.l,(function(){return[[{path:"",component:d}]]}),[])])}))}}]);