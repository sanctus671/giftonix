(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{ypEY:function(n,t,l){"use strict";l.r(t);var o=l("CcnG"),u=l("AytR"),r=l("t/Na"),e=l("iw74"),i=function(){function n(n,t){this.http=n,this.storage=t}return n.prototype.getProduct=function(n){var t=this;return new Promise((function(l,o){t.storage.get("gx_token").then((function(r){r?t.http.get(u.a.apiUrl+"/products/"+n+"?token="+r).subscribe((function(n){l(n)}),(function(n){o(n)})):o()}))}))},n.ngInjectableDef=o.Rb({factory:function(){return new n(o.Sb(r.c),o.Sb(e.b))},token:n,providedIn:"root"}),n}(),c=l("llfe"),a=l("esXn"),d=l("ZZ/e"),p=function(){function n(n,t,l,o,u,r){this.productService=n,this.favouriteService=t,this.toastController=l,this.route=o,this.cartService=u,this.navController=r,this.product={id:this.route.snapshot.params.id,name:"Loading...",description:"",image:"",price:"",favourited:!1,brand:{}},this.getProduct()}return n.prototype.ngOnInit=function(){},n.prototype.getProduct=function(){var n=this;this.loading=!0,this.productService.getProduct(this.product.id).then((function(t){n.product=t,n.product.brand||(n.product.brand={}),n.loading=!1})).catch((function(){n.loading=!1}))},n.prototype.toggleFavourite=function(){var n=this;this.product.favourited?(this.product.favourited=!1,this.product.favourite&&this.favouriteService.deleteFavourite(this.product.favourite.id).then((function(t){n.toastController.create({message:n.product.name+" has been removed from your favourites",duration:2e3}).then((function(n){n.present()})),n.favouriteService.favouritesChanged(n.product.favourite.id)}))):(this.product.favourited=!0,this.favouriteService.createFavourite({product_id:this.product.id}).then((function(t){n.product.favourite=t,n.toastController.create({message:n.product.name+" has been added to your favourites",duration:2e3}).then((function(n){n.present()})),n.favouriteService.favouritesChanged(n.product.favourite.id)})))},n.prototype.addToCart=function(){var n=this;this.cartService.addToCart(this.product),this.toastController.create({message:this.product.name+" has been added to your cart",duration:2e3,buttons:[{side:"end",text:"View Cart",handler:function(){n.navController.navigateForward(["cart"])}}]}).then((function(n){n.present()}))},n}(),b=function(){return function(){}}(),s=l("pMnS"),f=l("oBZk"),g=l("ZYCi"),h=l("Ip0R"),_=o.rb({encapsulation:0,styles:[['.transparent-header[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%}.transparent-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--ion-color-base:rgba(0, 0, 0, 0)!important}.transparent-header.header-ios[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]:last-child{--border-width:0 0 0px}.transparent-header[_ngcontent-%COMP%]:after{background:0 0}.product[_ngcontent-%COMP%]   .product__header[_ngcontent-%COMP%]{position:relative;padding-top:180px;padding-bottom:30px;background-color:#000;background-size:cover;background-position:center center;background-repeat:no-repeat}.product[_ngcontent-%COMP%]   .product__header[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);background:-webkit-gradient(linear,left bottom,left top,from(rgba(0,0,0,0)),to(rgba(0,0,0,.65)));background:linear-gradient(0deg,rgba(0,0,0,0) 0,rgba(0,0,0,.65) 100%)}.product[_ngcontent-%COMP%]   .product__header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;padding:0 30px;color:#fff;position:relative;font-size:30px;font-weight:400}.product[_ngcontent-%COMP%]   .product__header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;padding:0 30px;color:#fff;position:relative;font-size:24px;line-height:36px;font-weight:400;float:right;opacity:.9}.product[_ngcontent-%COMP%]   .product__header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;padding:0 30px;position:relative;color:#fff;opacity:.8}.product[_ngcontent-%COMP%]   .product__description[_ngcontent-%COMP%]{padding:0 30px}.product[_ngcontent-%COMP%]   .product__description[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:12px;opacity:.4;margin-bottom:5px}.product[_ngcontent-%COMP%]   .product__description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;white-space:pre-wrap}.product[_ngcontent-%COMP%]   .product__description[_ngcontent-%COMP%]   p.product__description__expiry[_ngcontent-%COMP%]{margin-top:1em;font-weight:600}.product[_ngcontent-%COMP%]   .product__description[_ngcontent-%COMP%]   .product__description__terms-header[_ngcontent-%COMP%]{margin-top:30px}.product[_ngcontent-%COMP%]   .product__description[_ngcontent-%COMP%]   p.product__description__terms[_ngcontent-%COMP%]{margin-bottom:30px}']],data:{}});function m(n){return o.Ob(0,[(n()(),o.tb(0,0,null,null,3,"ion-button",[],null,[[null,"click"]],(function(n,t,l){var o=!0;return"click"===t&&(o=!1!==n.component.toggleFavourite()&&o),o}),f.U,f.e)),o.sb(1,49152,null,0,d.m,[o.h,o.k,o.z],null,null),(n()(),o.tb(2,0,null,0,1,"ion-icon",[["slot","icon-only"]],null,null,null,f.kb,f.u)),o.sb(3,49152,null,0,d.E,[o.h,o.k,o.z],{name:[0,"name"]},null)],(function(n,t){n(t,3,0,t.component.product.favourited?"heart":"heart-empty")}),null)}function C(n){return o.Ob(0,[(n()(),o.tb(0,0,null,null,2,"h2",[],null,null,null,null,null)),(n()(),o.Mb(1,null,["$",""])),o.Ib(2,2)],null,(function(n,t){var l=t.component,u=o.Nb(t,1,0,n(t,2,0,o.Eb(t.parent,0),l.product.price,"1.2-2"));n(t,1,0,u)}))}function v(n){return o.Ob(0,[(n()(),o.tb(0,0,null,null,4,"p",[["routerDirection","forward"]],null,[[null,"click"]],(function(n,t,l){var u=!0;return"click"===t&&(u=!1!==o.Eb(n,1).onClick()&&u),"click"===t&&(u=!1!==o.Eb(n,3).onClick(l)&&u),u}),null,null)),o.sb(1,16384,null,0,g.o,[g.n,g.a,[8,null],o.D,o.k],{routerLink:[0,"routerLink"]},null),o.Fb(2,1),o.sb(3,737280,null,0,d.Ob,[h.h,d.Kb,o.k,g.n,[2,g.o]],{routerDirection:[0,"routerDirection"]},null),(n()(),o.Mb(4,null,["",""]))],(function(n,t){var l=n(t,2,0,"/brand/"+t.component.product.brand.id);n(t,1,0,l),n(t,3,0,"forward")}),(function(n,t){n(t,4,0,t.component.product.brand.name)}))}function k(n){return o.Ob(0,[(n()(),o.tb(0,0,null,null,1,"p",[["class","product__description__expiry"]],null,null,null,null,null)),(n()(),o.Mb(1,null,["Expires "," days from date of purchase"]))],null,(function(n,t){n(t,1,0,t.component.product.expiry_timeframe)}))}function O(n){return o.Ob(0,[(n()(),o.tb(0,0,null,null,4,"div",[],null,null,null,null,null)),(n()(),o.tb(1,0,null,null,1,"h6",[["class","product__description__terms-header"]],null,null,null,null,null)),(n()(),o.Mb(-1,null,["Terms & Conditions"])),(n()(),o.tb(3,0,null,null,1,"p",[["class","product__description__terms"]],null,null,null,null,null)),(n()(),o.Mb(4,null,[" "," "]))],null,(function(n,t){n(t,4,0,t.component.product.terms_conditions)}))}function M(n){return o.Ob(0,[(n()(),o.tb(0,0,null,null,8,"div",[["class","product__description"]],null,null,null,null,null)),(n()(),o.tb(1,0,null,null,1,"h6",[],null,null,null,null,null)),(n()(),o.Mb(-1,null,["Description:"])),(n()(),o.tb(3,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),o.Mb(4,null,["",""])),(n()(),o.ib(16777216,null,null,1,null,k)),o.sb(6,16384,null,0,h.k,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(n()(),o.ib(16777216,null,null,1,null,O)),o.sb(8,16384,null,0,h.k,[o.O,o.L],{ngIf:[0,"ngIf"]},null)],(function(n,t){var l=t.component;n(t,6,0,l.product.expiry_timeframe),n(t,8,0,l.product.terms_conditions)}),(function(n,t){n(t,4,0,t.component.product.description)}))}function P(n){return o.Ob(0,[(n()(),o.tb(0,0,null,null,5,"ion-fab",[["horizontal","end"],["slot","fixed"],["vertical","bottom"]],null,null,null,f.gb,f.p)),o.sb(1,49152,null,0,d.y,[o.h,o.k,o.z],{horizontal:[0,"horizontal"],vertical:[1,"vertical"]},null),(n()(),o.tb(2,0,null,0,3,"ion-fab-button",[["color","primary"]],null,[[null,"click"]],(function(n,t,l){var o=!0;return"click"===t&&(o=!1!==n.component.addToCart()&&o),o}),f.fb,f.q)),o.sb(3,49152,null,0,d.z,[o.h,o.k,o.z],{color:[0,"color"]},null),(n()(),o.tb(4,0,null,0,1,"ion-icon",[["name","cart"]],null,null,null,f.kb,f.u)),o.sb(5,49152,null,0,d.E,[o.h,o.k,o.z],{name:[0,"name"]},null)],(function(n,t){n(t,1,0,"end","bottom"),n(t,3,0,"primary"),n(t,5,0,"cart")}),null)}function y(n){return o.Ob(0,[o.Gb(0,h.d,[o.u]),(n()(),o.tb(1,0,null,null,16,"ion-header",[["class","transparent-header"]],null,null,null,f.jb,f.t)),o.sb(2,49152,null,0,d.D,[o.h,o.k,o.z],null,null),(n()(),o.tb(3,0,null,0,14,"ion-toolbar",[["color","primary"]],null,null,null,f.Fb,f.P)),o.sb(4,49152,null,0,d.Eb,[o.h,o.k,o.z],{color:[0,"color"]},null),(n()(),o.tb(5,0,null,0,6,"ion-buttons",[["slot","start"]],null,null,null,f.V,f.f)),o.sb(6,49152,null,0,d.n,[o.h,o.k,o.z],null,null),(n()(),o.tb(7,0,null,0,4,"ion-button",[],null,null,null,f.U,f.e)),o.sb(8,49152,null,0,d.m,[o.h,o.k,o.z],null,null),(n()(),o.tb(9,0,null,0,2,"ion-back-button",[["defaultHref","/home"]],null,[[null,"click"]],(function(n,t,l){var u=!0;return"click"===t&&(u=!1!==o.Eb(n,11).onClick(l)&&u),u}),f.S,f.c)),o.sb(10,49152,null,0,d.i,[o.h,o.k,o.z],{defaultHref:[0,"defaultHref"]},null),o.sb(11,16384,null,0,d.j,[[2,d.kb],d.Kb],{defaultHref:[0,"defaultHref"]},null),(n()(),o.tb(12,0,null,0,1,"ion-title",[],null,null,null,f.Eb,f.O)),o.sb(13,49152,null,0,d.Cb,[o.h,o.k,o.z],null,null),(n()(),o.tb(14,0,null,0,3,"ion-buttons",[["slot","end"]],null,null,null,f.V,f.f)),o.sb(15,49152,null,0,d.n,[o.h,o.k,o.z],null,null),(n()(),o.ib(16777216,null,0,1,null,m)),o.sb(17,16384,null,0,h.k,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(n()(),o.tb(18,0,null,null,15,"ion-content",[["class","product"]],null,null,null,f.db,f.n)),o.sb(19,49152,null,0,d.w,[o.h,o.k,o.z],null,null),(n()(),o.tb(20,0,null,0,9,"div",[["class","product__header"]],null,null,null,null,null)),o.Jb(512,null,h.u,h.v,[o.k,o.t,o.D]),o.sb(22,278528,null,0,h.n,[h.u],{ngStyle:[0,"ngStyle"]},null),o.Hb(23,{"background-image":0}),(n()(),o.ib(16777216,null,null,1,null,C)),o.sb(25,16384,null,0,h.k,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(n()(),o.tb(26,0,null,null,1,"h1",[],null,null,null,null,null)),(n()(),o.Mb(27,null,["",""])),(n()(),o.ib(16777216,null,null,1,null,v)),o.sb(29,16384,null,0,h.k,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(n()(),o.ib(16777216,null,0,1,null,M)),o.sb(31,16384,null,0,h.k,[o.O,o.L],{ngIf:[0,"ngIf"]},null),(n()(),o.ib(16777216,null,0,1,null,P)),o.sb(33,16384,null,0,h.k,[o.O,o.L],{ngIf:[0,"ngIf"]},null)],(function(n,t){var l=t.component;n(t,4,0,"primary"),n(t,10,0,"/home"),n(t,11,0,"/home"),n(t,17,0,!l.loading);var o=n(t,23,0,"url("+l.product.image+")");n(t,22,0,o),n(t,25,0,!l.loading),n(t,29,0,!l.loading),n(t,31,0,!l.loading),n(t,33,0,!l.loading)}),(function(n,t){n(t,27,0,t.component.product.name)}))}function x(n){return o.Ob(0,[(n()(),o.tb(0,0,null,null,1,"app-product",[],null,null,null,y,_)),o.sb(1,114688,null,0,p,[i,c.a,d.Rb,g.a,a.a,d.Kb],null,null)],(function(n,t){n(t,1,0)}),null)}var w=o.pb("app-product",p,x,{},{},[]),z=l("gIcY");l.d(t,"ProductPageModuleNgFactory",(function(){return I}));var I=o.qb(b,[],(function(n){return o.Bb([o.Cb(512,o.j,o.bb,[[8,[s.a,w]],[3,o.j],o.x]),o.Cb(4608,h.m,h.l,[o.u,[2,h.x]]),o.Cb(4608,z.l,z.l,[]),o.Cb(4608,d.c,d.c,[o.z,o.g]),o.Cb(4608,d.Jb,d.Jb,[d.c,o.j,o.q]),o.Cb(4608,d.Nb,d.Nb,[d.c,o.j,o.q]),o.Cb(1073742336,h.b,h.b,[]),o.Cb(1073742336,z.k,z.k,[]),o.Cb(1073742336,z.b,z.b,[]),o.Cb(1073742336,d.Gb,d.Gb,[]),o.Cb(1073742336,g.q,g.q,[[2,g.v],[2,g.n]]),o.Cb(1073742336,b,b,[]),o.Cb(1024,g.l,(function(){return[[{path:"",component:p}]]}),[])])}))}}]);