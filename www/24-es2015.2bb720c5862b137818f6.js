(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{zDS7:function(l,n,t){"use strict";t.r(n);var e=t("8Y7J"),o=t("ZZ/e"),u=t("Z4xi"),i=t("ri4K"),s=t("9B/o");class r{constructor(l,n,t,e,o){this.emailComposer=l,this.plt=n,this.authenticationService=t,this.alertCtrl=e,this.iab=o,this.user={},this.authenticationService.getUserData().subscribe(l=>{this.user=l})}ngOnInit(){}openRate(){this.plt.is("ios")?this.iab.create("https://itunes.apple.com/","_system"):this.iab.create("https://play.google.com/store/apps/details?id=com.giftonix.app","_system")}openFollow(){this.iab.create("https://www.facebook.com/","_system")}openEmail(){this.emailComposer.open({to:["tristan@giftonix.com"],subject:"Subject for your support query",body:"Provide details about the support you require.",isHtml:!0})}openChangePassword(){this.alertCtrl.create({header:"Change Password",inputs:[{name:"password",placeholder:"Password",type:"password"},{name:"confirmPassword",placeholder:"Confirm Password",type:"password"}],buttons:[{text:"Cancel",role:"cancel",handler:l=>{}},{text:"Change",handler:l=>{l.password&&l.confirmPassword&&l.password===l.confirmPassword?this.authenticationService.changePassword(this.user.email,l.password,l.confirmPassword).then(()=>{this.alertCtrl.create({header:"Success",message:"Your password has been updated",buttons:[{text:"Dismiss",role:"cancel",handler:l=>{}}]}).then(l=>{l.present()})}).catch(()=>{this.alertCtrl.create({header:"Error",message:"There was an error while changing your password.",buttons:[{text:"Cancel",role:"cancel",handler:l=>{}},{text:"Try Again",handler:l=>{setTimeout(()=>{this.openChangePassword()},200)}}]}).then(l=>{l.present()})}):this.alertCtrl.create({header:"Error",message:"Passwords do not match",buttons:[{text:"Cancel",role:"cancel",handler:l=>{}},{text:"Try Again",handler:l=>{setTimeout(()=>{this.openChangePassword()},200)}}]}).then(l=>{l.present()})}}]}).then(l=>{l.present()})}logout(){this.authenticationService.logout()}}class a{}var c=t("pMnS"),b=t("oBZk"),h=e.pb({encapsulation:0,styles:[[".settings-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]{margin-bottom:10px;margin-top:20px;padding-top:10px}.settings-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]:first-child{margin-top:0;padding-top:0}.settings-list[_ngcontent-%COMP%]   ion-list-header[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{margin-bottom:0}.settings-list[_ngcontent-%COMP%]   ion-icon[name=trophy][_ngcontent-%COMP%]{color:#ffbf00}.settings-list[_ngcontent-%COMP%]   ion-icon[name=heart][_ngcontent-%COMP%]{color:#e31b23}.settings-list[_ngcontent-%COMP%]   ion-icon[name=logo-facebook][_ngcontent-%COMP%]{color:#3b5998}.settings-list[_ngcontent-%COMP%]   ion-icon[name=mail][_ngcontent-%COMP%]{color:grey}.settings-list[_ngcontent-%COMP%]   ion-icon[name=unlock][_ngcontent-%COMP%]{color:#d6a000}.settings-list[_ngcontent-%COMP%]   ion-icon[name=lock][_ngcontent-%COMP%]{color:#d47835}.settings-list[_ngcontent-%COMP%]   ion-icon[name=cloud-upload][_ngcontent-%COMP%]{color:#8cd0ef}.settings-list[_ngcontent-%COMP%]   ion-icon[name=locate][_ngcontent-%COMP%]{color:#90e483}"]],data:{}});function p(l){return e.Jb(0,[(l()(),e.rb(0,0,null,null,10,"ion-header",[],null,null,null,b.eb,b.r)),e.qb(1,49152,null,0,o.A,[e.h,e.k,e.x],null,null),(l()(),e.rb(2,0,null,0,8,"ion-toolbar",[["color","primary"]],null,null,null,b.zb,b.M)),e.qb(3,49152,null,0,o.Bb,[e.h,e.k,e.x],{color:[0,"color"]},null),(l()(),e.rb(4,0,null,0,3,"ion-buttons",[["slot","start"]],null,null,null,b.S,b.f)),e.qb(5,49152,null,0,o.k,[e.h,e.k,e.x],null,null),(l()(),e.rb(6,0,null,0,1,"ion-menu-button",[],null,null,null,b.lb,b.z)),e.qb(7,49152,null,0,o.Q,[e.h,e.k,e.x],null,null),(l()(),e.rb(8,0,null,0,2,"ion-title",[],null,null,null,b.yb,b.L)),e.qb(9,49152,null,0,o.zb,[e.h,e.k,e.x],null,null),(l()(),e.Ib(-1,0,["Settings"])),(l()(),e.rb(11,0,null,null,45,"ion-content",[],null,null,null,b.Z,b.m)),e.qb(12,49152,null,0,o.t,[e.h,e.k,e.x],null,null),(l()(),e.rb(13,0,null,0,43,"ion-list",[["class","settings-list"]],null,null,null,b.kb,b.w)),e.qb(14,49152,null,0,o.N,[e.h,e.k,e.x],null,null),(l()(),e.rb(15,0,null,0,2,"ion-list-header",[],null,null,null,b.jb,b.x)),e.qb(16,49152,null,0,o.O,[e.h,e.k,e.x],null,null),(l()(),e.Ib(-1,0,["Support"])),(l()(),e.rb(18,0,null,0,7,"ion-item",[],null,null,null,b.hb,b.u)),e.qb(19,49152,null,0,o.G,[e.h,e.k,e.x],null,null),(l()(),e.rb(20,0,null,0,1,"ion-icon",[["name","heart"],["slot","start"]],null,null,null,b.fb,b.s)),e.qb(21,49152,null,0,o.B,[e.h,e.k,e.x],{name:[0,"name"]},null),(l()(),e.Ib(-1,0,[" Rate The App "])),(l()(),e.rb(23,0,null,0,2,"ion-button",[["fill","outline"],["slot","end"]],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.openRate()&&e),e}),b.R,b.e)),e.qb(24,49152,null,0,o.j,[e.h,e.k,e.x],{fill:[0,"fill"]},null),(l()(),e.Ib(-1,0,["Rate"])),(l()(),e.rb(26,0,null,0,7,"ion-item",[],null,null,null,b.hb,b.u)),e.qb(27,49152,null,0,o.G,[e.h,e.k,e.x],null,null),(l()(),e.rb(28,0,null,0,1,"ion-icon",[["name","logo-facebook"],["slot","start"]],null,null,null,b.fb,b.s)),e.qb(29,49152,null,0,o.B,[e.h,e.k,e.x],{name:[0,"name"]},null),(l()(),e.Ib(-1,0,[" Follow Us "])),(l()(),e.rb(31,0,null,0,2,"ion-button",[["fill","outline"],["slot","end"]],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.openFollow()&&e),e}),b.R,b.e)),e.qb(32,49152,null,0,o.j,[e.h,e.k,e.x],{fill:[0,"fill"]},null),(l()(),e.Ib(-1,0,["Follow"])),(l()(),e.rb(34,0,null,0,7,"ion-item",[],null,null,null,b.hb,b.u)),e.qb(35,49152,null,0,o.G,[e.h,e.k,e.x],null,null),(l()(),e.rb(36,0,null,0,1,"ion-icon",[["name","mail"],["slot","start"]],null,null,null,b.fb,b.s)),e.qb(37,49152,null,0,o.B,[e.h,e.k,e.x],{name:[0,"name"]},null),(l()(),e.Ib(-1,0,[" Contact Support "])),(l()(),e.rb(39,0,null,0,2,"ion-button",[["fill","outline"],["slot","end"]],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.openEmail()&&e),e}),b.R,b.e)),e.qb(40,49152,null,0,o.j,[e.h,e.k,e.x],{fill:[0,"fill"]},null),(l()(),e.Ib(-1,0,["Email"])),(l()(),e.rb(42,0,null,0,2,"ion-list-header",[],null,null,null,b.jb,b.x)),e.qb(43,49152,null,0,o.O,[e.h,e.k,e.x],null,null),(l()(),e.Ib(-1,0,["Account Settings"])),(l()(),e.rb(45,0,null,0,6,"ion-item",[["detail",""]],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.openChangePassword()&&e),e}),b.hb,b.u)),e.qb(46,49152,null,0,o.G,[e.h,e.k,e.x],{detail:[0,"detail"]},null),(l()(),e.rb(47,0,null,0,1,"ion-icon",[["name","unlock"],["slot","start"]],null,null,null,b.fb,b.s)),e.qb(48,49152,null,0,o.B,[e.h,e.k,e.x],{name:[0,"name"]},null),(l()(),e.rb(49,0,null,0,2,"ion-label",[],null,null,null,b.ib,b.v)),e.qb(50,49152,null,0,o.M,[e.h,e.k,e.x],null,null),(l()(),e.Ib(-1,0,["Change Password"])),(l()(),e.rb(52,0,null,0,4,"ion-item",[],null,[[null,"click"]],(function(l,n,t){var e=!0;return"click"===n&&(e=!1!==l.component.logout()&&e),e}),b.hb,b.u)),e.qb(53,49152,null,0,o.G,[e.h,e.k,e.x],null,null),(l()(),e.rb(54,0,null,0,1,"ion-icon",[["name","lock"],["slot","start"]],null,null,null,b.fb,b.s)),e.qb(55,49152,null,0,o.B,[e.h,e.k,e.x],{name:[0,"name"]},null),(l()(),e.Ib(-1,0,[" Logout "]))],(function(l,n){l(n,3,0,"primary"),l(n,21,0,"heart"),l(n,24,0,"outline"),l(n,29,0,"logo-facebook"),l(n,32,0,"outline"),l(n,37,0,"mail"),l(n,40,0,"outline"),l(n,46,0,""),l(n,48,0,"unlock"),l(n,55,0,"lock")}),null)}function g(l){return e.Jb(0,[(l()(),e.rb(0,0,null,null,1,"app-settings",[],null,null,null,p,h)),e.qb(1,114688,null,0,r,[u.a,o.Jb,i.a,o.a,s.a],null,null)],(function(l,n){l(n,1,0)}),null)}var m=e.nb("app-settings",r,g,{},{},[]),d=t("SVse"),k=t("s7LF"),f=t("iInd");t.d(n,"SettingsPageModuleNgFactory",(function(){return C}));var C=e.ob(a,[],(function(l){return e.zb([e.Ab(512,e.j,e.Z,[[8,[c.a,m]],[3,e.j],e.v]),e.Ab(4608,d.k,d.j,[e.s,[2,d.t]]),e.Ab(4608,k.j,k.j,[]),e.Ab(4608,o.b,o.b,[e.x,e.g]),e.Ab(4608,o.Gb,o.Gb,[o.b,e.j,e.p]),e.Ab(4608,o.Kb,o.Kb,[o.b,e.j,e.p]),e.Ab(1073742336,d.b,d.b,[]),e.Ab(1073742336,k.i,k.i,[]),e.Ab(1073742336,k.b,k.b,[]),e.Ab(1073742336,o.Db,o.Db,[]),e.Ab(1073742336,f.q,f.q,[[2,f.v],[2,f.n]]),e.Ab(1073742336,a,a,[]),e.Ab(1024,f.l,(function(){return[[{path:"",component:r}]]}),[])])}))}}]);